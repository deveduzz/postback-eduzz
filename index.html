<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Postback-eduzz by deveduzz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Postback-eduzz</h1>
      <h2 class="project-tagline">Receba postback com as informações de cada transação na Eduzz</h2>
      <a href="https://github.com/deveduzz/postback-eduzz" class="btn">View on GitHub</a>
      <a href="https://github.com/deveduzz/postback-eduzz/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/deveduzz/postback-eduzz/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="sobre-o-postback" class="anchor" href="#sobre-o-postback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sobre o postback</h3>

<p>O recurso de postback permite que você receba notificações de alguns eventos que ocorrem dentro do sistema, possibilitando que alem do produtor, o afiliado tambem tenha um melhor controle sobre seu negócio.</p>

<p>No momento estão disponíveis apenas as ações referentes ao <code>rastreamento</code> de campanhas:</p>

<ul>
<li>TRACKER.CHECKOUT - Acionado ao carregamento de um carrinho</li>
<li>TRACKER.THANKYOU - Acionado quando o cliente chega até a página de obrigado<br>
</li>
<li>TRACKER.BOLETO   - Acionado sempre que um boleto é visualizado</li>
</ul>

<p>As informações de alteração de status de compra estão disponíveis apenas para os produtores através do webhook. Muito em breve essas notificações estarão unificadas via postback tambem para os afiliados</p>

<hr>

<h3>
<a id="cadastro-de-url" class="anchor" href="#cadastro-de-url" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cadastro de URL</h3>

<ol>
<li>Logue em  sua conta e acesse o menu <code>Afiliado &gt;&gt; Meus Funis / Campanhas</code>
</li>
<li>Na listagem de suas campanhas, clique no ícone conforme indicado na imagem abaixo: <img src="https://raw.githubusercontent.com/deveduzz/postback-eduzz/master/postback1.jpg" alt="alt tag">
</li>
<li>Na tela seguinte, cadastre a URL onde você deseja receber as notificações do sistema   <img src="https://raw.githubusercontent.com/deveduzz/postback-eduzz/master/postback2.jpg" alt="alt tag">
***</li>
</ol>

<h3>
<a id="requisições-válidas-e-retentativas" class="anchor" href="#requisi%C3%A7%C3%B5es-v%C3%A1lidas-e-retentativas" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requisições válidas e retentativas</h3>

<p>No caso de falha, são realizados 5 tentativas no intervalo de 12 horas ( 2m,6m,24m,2h,12h), após esse periodo sem sucesso, a postback é cancelado.
Consideramos válidas todas as requisicoes que retornam o status HTTP 200.</p>

<hr>

<h3>
<a id="validação" class="anchor" href="#valida%C3%A7%C3%A3o" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Validação</h3>

<p>Enviamos via <code>header</code> o parametro <code>X-EduzzApi</code> , que deve ser comparada com a Chave de API do Afiliado/Produtor que receberá o postback.</p>

<hr>

<h3>
<a id="parametros-enviados" class="anchor" href="#parametros-enviados" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parametros enviados</h3>

<table>
<thead>
<tr>
<th>Parâmetro</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event.action</code></td>
<td>Ação de evento (TRACKER.CHECKOUT,TRACKER.BOLETO,TRACKER.THANKYOU)</td>
</tr>
<tr>
<td><code>event.datetime</code></td>
<td>Data e hora do evento no formato YYYY-MM-DD HH:MM:SS ex: 2016-10-26 22:02:25</td>
</tr>
<tr>
<td><code>invoice.id</code></td>
<td>ID da fatura se houver.</td>
</tr>
<tr>
<td><code>invoice.value</code></td>
<td>Valor da fatura se houver</td>
</tr>
<tr>
<td><code>invoice.status</code></td>
<td>Status da fatura ( Ver tabela de status de pagamento )</td>
</tr>
<tr>
<td><code>invoice.paymentmethod</code></td>
<td>Forma de pagamento ( Ver tabela de forma de pagamento )</td>
</tr>
<tr>
<td><code>invoice.datetime</code></td>
<td>Data de criação da fatura ( Clicou em pagar ) no formato YYYY-MM-DD HH:MM:SS ex: 2016-10-26 22:02:25</td>
</tr>
<tr>
<td><code>invoice.paymentdate</code></td>
<td>Data de pagamento se houver no formato YYYY-MM-DD HH:MM:SS ex: 2016-10-26</td>
</tr>
<tr>
<td><code>product.id</code></td>
<td>Código do conteudo</td>
</tr>
<tr>
<td><code>product.name</code></td>
<td>Nome do conteudo</td>
</tr>
<tr>
<td><code>customer.id</code></td>
<td>ID do cliente se houver</td>
</tr>
<tr>
<td><code>customer.name</code></td>
<td>Nome do cliente se houver</td>
</tr>
<tr>
<td><code>customer.email</code></td>
<td>Email do cliente se houver</td>
</tr>
<tr>
<td><code>partner.id</code></td>
<td>ID do afiliado se houver</td>
</tr>
<tr>
<td><code>partner.name</code></td>
<td>Nome do afiliado se houver</td>
</tr>
<tr>
<td><code>partner.email</code></td>
<td>E-mail do afiliado se houver</td>
</tr>
<tr>
<td><code>tracker.funnelkey</code></td>
<td>Código da campanha se houver</td>
</tr>
<tr>
<td><code>tracker.utm_source</code></td>
<td>Referencia informada na momento do clique (Ex: <a href="http://edz.la/XXXX?a=815959&amp;utm_source=BANNER01">http://edz.la/XXXX?a=815959&amp;utm_source=BANNER01</a>)</td>
</tr>
<tr>
<td><code>tracker.utm_content</code></td>
<td>Referencia informada no momento do clique (Ex: <a href="http://edz.la/XXXX?a=815959&amp;utm_content=BANNER02">http://edz.la/XXXX?a=815959&amp;utm_content=BANNER02</a>)</td>
</tr>
<tr>
<td><code>tracker.utm_campaign</code></td>
<td>Referencia informada no momento do clique (Ex: <a href="http://edz.la/XXXX?a=815959&amp;utm_campaign=BANNER03">http://edz.la/XXXX?a=815959&amp;utm_campaign=BANNER03</a>)</td>
</tr>
<tr>
<td><code>tracker.utm_medium</code></td>
<td>Referencia informada no momento do clique (Ex: <a href="http://edz.la/XXXX?a=815959&amp;utm_medium=BANNER01">http://edz.la/XXXX?a=815959&amp;utm_medium=BANNER01</a>)</td>
</tr>
<tr>
<td><code>tracker.ip</code></td>
<td>IP de origem da transação</td>
</tr>
<tr>
<td><code>cart.key</code></td>
<td>Código da pagina de checkout</td>
</tr>
<tr>
<td><code>cart.datetime</code></td>
<td>Data de primeira abertura do checkout no formato YYYY-MM-DD HH:MM:SS ex: 2016-10-26 22:02:25</td>
</tr>
</tbody>
</table>

<p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>You can @mention a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor’s GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/deveduzz/postback-eduzz">Postback-eduzz</a> is maintained by <a href="https://github.com/deveduzz">deveduzz</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
